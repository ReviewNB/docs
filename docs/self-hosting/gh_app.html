

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create GitHub App &mdash; ReviewNB 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Verify Bot Comments" href="bot_comments.html" />
    <link rel="prev" title="Create Database" href="database.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ReviewNB
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosted/index.html">Hosted ReviewNB</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Self Hosted ReviewNB</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="docker.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Create Database</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Create GitHub App</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-new-app">Create New App</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-urls-and-genral-information">Setup URLs and Genral Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-permissions">Setup Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#webhook-events-scope">Webhook Events &amp; Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generate-private-key">Generate Private Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upload-logo">Upload Logo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-app-config">Get App Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-read-private-key">How to read Private Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bot_comments.html">Verify Bot Comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="update.html">Update On-Prem ReviewNB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testimonials.html">Testimonials</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ReviewNB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Self Hosted ReviewNB</a> &raquo;</li>
        
      <li>Create GitHub App</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/self-hosting/gh_app.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="create-github-app">
<span id="id1"></span><h1>Create GitHub App<a class="headerlink" href="#create-github-app" title="Permalink to this headline">¶</a></h1>
<p>GitHub application forms the bridge between ReviewNB and GitHub. It enables user authentication via Oauth2 &amp; let user select repositories that ReviewNB should have access to.</p>
<p>In this section, we’ll create a GitHub app for your self hosted ReviewNB installation. By the end, we should have following values noted down:</p>
<ul class="simple">
<li><p>App ID</p></li>
<li><p>App URL</p></li>
<li><p>Client ID</p></li>
<li><p>Client secret</p></li>
<li><p>Private Key</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Throughout this document when we say GitHub account, it can be an individual/org account on github.com or your own GitHub enterprise installation, depending on the GitHub offering you are using.</p>
</div>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>You need to decide the endpoint at which you’ll be running ReviewNB. It’s typically <em>reviewnb.&lt;your-domain-name&gt;.com</em>. Your application won’t be running there as yet but you just need to know the endpoint you’ll be using.</p></li>
</ul>
</div>
<div class="section" id="create-new-app">
<h2>Create New App<a class="headerlink" href="#create-new-app" title="Permalink to this headline">¶</a></h2>
<p>Any GitHub account can own the app but we recommend creating it under org account of the team who is going to maintain the ReviewNB installation.</p>
<ul class="simple">
<li><p>Login to GitHub &amp; go to your org account page (e.g. <cite>https://github.corp.company.com/tools-org</cite>).</p></li>
<li><p>Click on <em>Settings -&gt; GitHub Apps -&gt; New GitHub App</em> as shown below.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/gh_app_1.png"><img alt="../_images/gh_app_1.png" class="align-center" src="../_images/gh_app_1.png" style="width: 607.8px; height: 449.4px;" /></a>
</div>
<div class="section" id="setup-urls-and-genral-information">
<h2>Setup URLs and Genral Information<a class="headerlink" href="#setup-urls-and-genral-information" title="Permalink to this headline">¶</a></h2>
<p>Fill in the general information as shown in the screenshot. For URLs, replace <em>reviewnb.&lt;your-domain-name&gt;.com</em> with actual endpoint at which you’ll be hosting ReviewNB application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not forget trailing slashes for the URLs.</p>
</div>
<a class="reference internal image-reference" href="../_images/gh_app_2_v2.png"><img alt="../_images/gh_app_2_v2.png" class="align-center" src="../_images/gh_app_2_v2.png" style="width: 468.59999999999997px; height: 613.1999999999999px;" /></a>
</div>
<div class="section" id="setup-permissions">
<h2>Setup Permissions<a class="headerlink" href="#setup-permissions" title="Permalink to this headline">¶</a></h2>
<p>We need following permissions for enabling all the ReviewNB functionality,</p>
<ul class="simple">
<li><p>Read <em>repository contents</em> to fetch notebooks and compute diff</p></li>
<li><p>Read <em>repository metadata</em> to fetch list of commits and PRs</p></li>
<li><p>Read-Write access to <em>pull requests</em> to read &amp; write PR comments</p></li>
<li><p>Read access to <em>emails</em> for user profiles (older GitHub Enterprise versions might not have email permission, please contact <em>support&#64;reviewnb.com</em> in such cases)</p></li>
</ul>
<p>You need to enable these under permissions section as shown below,</p>
<a class="reference internal image-reference" href="../_images/gh_app_3.1.png"><img alt="../_images/gh_app_3.1.png" class="align-center" src="../_images/gh_app_3.1.png" style="width: 612.0px; height: 72.0px;" /></a>
<a class="reference internal image-reference" href="../_images/gh_app_3.2_v2.png"><img alt="../_images/gh_app_3.2_v2.png" class="align-center" src="../_images/gh_app_3.2_v2.png" style="width: 608.8000000000001px; height: 72.0px;" /></a>
<a class="reference internal image-reference" href="../_images/gh_app_3.3.png"><img alt="../_images/gh_app_3.3.png" class="align-center" src="../_images/gh_app_3.3.png" style="width: 608.8000000000001px; height: 72.8px;" /></a>
<a class="reference internal image-reference" href="../_images/gh_app_3.4.png"><img alt="../_images/gh_app_3.4.png" class="align-center" src="../_images/gh_app_3.4.png" style="width: 608.8000000000001px; height: 71.2px;" /></a>
</div>
<div class="section" id="webhook-events-scope">
<h2>Webhook Events &amp; Scope<a class="headerlink" href="#webhook-events-scope" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Subscribe to Pull Request events so ReviewNB is notified when a PR is created and it can post the ReviewNB link on the PR discussion.</p></li>
<li><p>For the question, <em>“Where can this GitHub App be installed?”</em> choose <em>“Any account”</em> so other orgs in your company can use ReviewNB as well. For on-prem installations that work with github.com, only repositories under your company’s org account can be accessed via ReviewNB.</p></li>
</ul>
<p>Click on <em>Create GitHub App</em></p>
<a class="reference internal image-reference" href="../_images/gh_app_4_v2.png"><img alt="../_images/gh_app_4_v2.png" class="align-center" src="../_images/gh_app_4_v2.png" style="width: 658.4000000000001px; height: 728.8000000000001px;" /></a>
</div>
<div class="section" id="generate-private-key">
<h2>Generate Private Key<a class="headerlink" href="#generate-private-key" title="Permalink to this headline">¶</a></h2>
<p>Once the app is created you can scroll down and click <em>Generate private key</em>. This will create and download a .pem file for you. Please keep this safe.</p>
<a class="reference internal image-reference" href="../_images/gh_app_5_v2.png"><img alt="../_images/gh_app_5_v2.png" class="align-center" src="../_images/gh_app_5_v2.png" style="width: 628.8000000000001px; height: 173.60000000000002px;" /></a>
</div>
<div class="section" id="upload-logo">
<h2>Upload Logo<a class="headerlink" href="#upload-logo" title="Permalink to this headline">¶</a></h2>
<p><a class="reference download internal" download="" href="../_downloads/c77ca3c100cdd6bb2ae5243bdaea81a5/logo.png"><code class="xref download docutils literal notranslate"><span class="pre">Download</span></code></a> the logo file and upload the logo to our app.</p>
<a class="reference internal image-reference" href="../_images/upload_logo.png"><img alt="../_images/upload_logo.png" class="align-center" src="../_images/upload_logo.png" style="width: 633.6px; height: 326.40000000000003px;" /></a>
</div>
<div class="section" id="get-app-config">
<span id="id2"></span><h2>Get App Config<a class="headerlink" href="#get-app-config" title="Permalink to this headline">¶</a></h2>
<p>On your newly created app page, you can find Client ID, Client Secret, App ID, and App URL. Please note down these fields along with the private key generated in the above step. We’ll need to plug them as environment vaiables on the docker container.</p>
<a class="reference internal image-reference" href="../_images/gh_app_6.1.png"><img alt="../_images/gh_app_6.1.png" class="align-center" src="../_images/gh_app_6.1.png" style="width: 603.2px; height: 192.8px;" /></a>
<p><em>Public link</em> is the App URL and <em>ID</em> is App ID.</p>
<a class="reference internal image-reference" href="../_images/gh_app_6.2.png"><img alt="../_images/gh_app_6.2.png" class="align-center" src="../_images/gh_app_6.2.png" style="width: 618.4000000000001px; height: 166.4px;" /></a>
</div>
<div class="section" id="how-to-read-private-key">
<h2>How to read Private Key<a class="headerlink" href="#how-to-read-private-key" title="Permalink to this headline">¶</a></h2>
<p>The private key you generated above would be downloaded as a .pem file. You need to open the .pem in any text editor and replace the newlines with <em>\n</em>. I demonstrate this with Sublime Text below.
Notice the regex replacement I’m using at the bottom. If your editor doesn’t support it, you can manually replace newlines with <em>\n</em>.</p>
<a class="reference internal image-reference" href="../_images/before_replacement.png"><img alt="../_images/before_replacement.png" class="align-center" src="../_images/before_replacement.png" style="width: 744.8000000000001px; height: 615.2px;" /></a>
<p>After replacement, it should become a single line (as shown below) with <em>\n</em> between each of the previous line. If you’re replacing by hand, notice there’s a <em>\n</em> at the end of last line as well. This entire single line will be your Private Key (<em>GITHUB_APP_PEM</em>).</p>
<a class="reference internal image-reference" href="../_images/after_replacement.png"><img alt="../_images/after_replacement.png" class="align-center" src="../_images/after_replacement.png" style="width: 742.4000000000001px; height: 612.0px;" /></a>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>At the end of this section you should have following values to be used as environment variables for ReviewNB container.</p>
<ul class="simple">
<li><p>App ID (<em>GITHUB_APP_ID</em>)</p></li>
<li><p>App URL (<em>GITHUB_APP_URL</em>)</p></li>
<li><p>Client ID (<em>GITHUB_CLIENT_ID</em>)</p></li>
<li><p>Private Key (<em>GITHUB_APP_PEM</em>)</p></li>
<li><p>Client secret (<em>GITHUB_CLIENT_SECRET</em>)</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bot_comments.html" class="btn btn-neutral float-right" title="Verify Bot Comments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="database.html" class="btn btn-neutral float-left" title="Create Database" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018, ReviewNB

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>